(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function c(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=c(n);fetch(n.href,a)}})();const s=document.getElementById("canvas"),h=window.devicePixelRatio||1,A=s.clientWidth,x=s.clientHeight;s.width=Math.floor(A*h);s.height=Math.floor(x*h);s.style.width=`${A}px`;s.style.height=`${x}px`;const r=s.getContext("webgl");if(!r)throw console.error("WebGLが利用できません"),new Error("WebGL not supported");const w=`
    attribute vec4 aVertexPosition;
    attribute vec4 aVertexColor;
    
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;
    
    varying lowp vec4 vColor;
    
    void main() {
        gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
        vColor = aVertexColor;
    }
`,v=`
    precision mediump float;
    varying lowp vec4 vColor;
    
    void main() {
        gl_FragColor = vColor;
    }
`;function E(e,o,c){const t=e.createShader(o);if(!t)throw new Error("シェーダーの作成に失敗しました");if(e.shaderSource(t,c),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))throw console.error("シェーダーのコンパイルエラー:",e.getShaderInfoLog(t)),e.deleteShader(t),new Error("シェーダーのコンパイルに失敗しました");return t}function L(e,o,c){const t=e.createProgram();if(!t)throw new Error("プログラムの作成に失敗しました");if(e.attachShader(t,o),e.attachShader(t,c),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw console.error("プログラムのリンクエラー:",e.getProgramInfoLog(t)),e.deleteProgram(t),new Error("プログラムのリンクに失敗しました");return t}function b(e){const o=e.canvas,c=45*Math.PI/180,t=o.clientWidth/o.clientHeight,n=.1,a=100,i=new Float32Array(16),d=1/Math.tan(c/2),l=1/(n-a);return i[0]=d/t,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=d,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=(n+a)*l,i[11]=-1,i[12]=0,i[13]=0,i[14]=n*a*l*2,i[15]=0,i}function P(e){const o=new Float32Array(16);return o.fill(0),o[0]=Math.cos(e),o[2]=Math.sin(e),o[5]=1,o[8]=-Math.sin(e),o[10]=Math.cos(e),o[15]=1,o[14]=-6,o}const S=E(r,r.VERTEX_SHADER,w),_=E(r,r.FRAGMENT_SHADER,v),u=L(r,S,_),B=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),T=new Float32Array([1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1]),y=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),R=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,R);r.bufferData(r.ARRAY_BUFFER,B,r.STATIC_DRAW);const p=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,p);r.bufferData(r.ARRAY_BUFFER,T,r.STATIC_DRAW);const M=r.createBuffer();r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,M);r.bufferData(r.ELEMENT_ARRAY_BUFFER,y,r.STATIC_DRAW);const f={attribLocations:{vertexPosition:r.getAttribLocation(u,"aVertexPosition"),vertexColor:r.getAttribLocation(u,"aVertexColor")},uniformLocations:{projectionMatrix:r.getUniformLocation(u,"uProjectionMatrix"),modelViewMatrix:r.getUniformLocation(u,"uModelViewMatrix")}};function C(e,o){e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);const c=b(e),t=P(o);e.bindBuffer(e.ARRAY_BUFFER,R),e.vertexAttribPointer(f.attribLocations.vertexPosition,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(f.attribLocations.vertexPosition),e.bindBuffer(e.ARRAY_BUFFER,p),e.vertexAttribPointer(f.attribLocations.vertexColor,4,e.FLOAT,!1,0,0),e.enableVertexAttribArray(f.attribLocations.vertexColor),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,M),e.useProgram(u),e.uniformMatrix4fv(f.uniformLocations.projectionMatrix,!1,c),e.uniformMatrix4fv(f.uniformLocations.modelViewMatrix,!1,t),e.drawElements(e.TRIANGLES,36,e.UNSIGNED_SHORT,0)}let m=0;function F(){m+=.01,C(r,m),requestAnimationFrame(F)}F();
